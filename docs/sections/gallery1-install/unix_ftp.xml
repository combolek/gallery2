<?xml version="1.0" encoding="ISO-8859-1"?>

<sect1 id="gallery1-install.unix_ftp">
 <title>Installing on a Unix/Linux Server with FTP</title>
 
 <para>
  <emphasis>IMPORTANT</emphasis>: These instructions are for a NEW
  INSTALLATION OF GALLERY on a LINUX or UNIX server using an FTP
  client to upload files and set permissions. Use the <xref
  linkend="gallery1-install.upgrade" /> guide if you are updating your
  installation from an earlier version. Use the <xref
  linkend="gallery1-install.windows" /> guide to install Gallery on a
  Windows server.
 </para>
 <para>
  Once unpacked (unzipped), you should have a directory called
  <filename>gallery</filename> that contains most of the files and
  directories required. Now you're ready to install your Gallery:
 </para>

 <orderedlist>
  <listitem>
   <para>
    <emphasis>CREATE 2 BLANK FILES with a text editor</emphasis>,(i.e.
    Notepad, Note Tab, Editplus, Crimson Editor).
   </para>
   <para>
    Call one <filename>.htaccess</filename> and the other
    <filename>config.php</filename>. Place these inside the Gallery
    directory.
   </para>
   <para>
    Upload the Gallery directory to your server using an FTP program
    (like WS_FTP, CuteFTP or Fetch). Upload all files except for image
    files in <emphasis>ASCII</emphasis> mode. Upload image files in
    <emphasis>binary</emphasis> mode. <emphasis>Keep the directory
    tree intact</emphasis>&#8212;you should see 12 folders INSIDE the
    Gallery folder if you have your albums folder inside Gallery, as
    well as the php pages that go together to run your Gallery
    site.
   </para>
  </listitem>
  <listitem>
   <para>
    <emphasis>Create a directory on your webspace called
    <filename>albums</filename>.</emphasis>
   </para>
   <para>
    Gallery will use this directory to store the albums you create and
    the images you upload to those albums. This directory can reside
    inside the Gallery directory or outside the Gallery directory -
    your choice. <emphasis>Make note of where you create this
    directory.</emphasis>
   </para>
  </listitem>
  <listitem>
   <para>
    You need to set permissions to make some of the files and
    directories writable. This involves using the
    <function>CHMOD</function> command. If you do not understand
    <function>CHMOD</function>, there are some resources and
    information listed at <ulink
    url="http://www.eclecticpixels.com/tutorials/chmod/">http://www.eclecticpixels.com/tutorials/chmod/</ulink>. Chmod
    as follows:
    <programlisting>
     chmod 666 .htaccess
     chmod 666 config.php
     chmod 755 setup
    </programlisting>
   </para>
  </listitem>
  <listitem>
   <para>
    Gallery requires an image manipulation program (as mentioned in
    the <xref linkend="gallery1-install.requirements" />). Some hosts
    have either NetPBM or ImageMagick already installed. If so, you'll
    need to know the correct path (note that this is different from a
    URL, which begins with "http://www."). It will be something
    similar to: <filename>/usr/local/imagemagick</filename>.
   </para>
   <para>
    NetPBM is easy to install yourself. You can grab the files from
    the <ulink
    url="http://sourceforge.net/project/showfiles.php&#63;group_id=7130">Gallery
    Download Page</ulink>. You do not need root access; just upload
    the <filename>NetPBM</filename> files via your FTP client (in
    <emphasis>binary</emphasis> mode) and <function>CHMOD</function>
    the directory and all the files in that directory with the
    following permissions: 755. If the configuration wizard can't
    locate the <filename>NetPBM</filename> directory it will ask you
    for the exact location and you can fill in the correct path.
   </para>
  </listitem>
  <listitem>
   <para>
    <emphasis>Display EXIF data with Jhead (Optional)</emphasis>
   </para>
   <para>
    If you want to display the EXIF information that many digital
    cameras store in JPEG images, you'll need to install a small
    program called <filename>Jhead</filename> to your webspace. A few
    hosts have begun having it pre-installed for Gallery users. If you
    are installing Jhead yourself you can install it either in the
    <filename>gallery</filename> directory or in your
    <filename>public_html</filename> directory (sometimes called
    <filename>www</filename> or something similar). If you don't need
    to display the exif information for your photos, skip this
    step.
   </para>
   <para>
    Download the pre-built executable and upload it to your webspace
    via FTP, making sure that you upload it in
    <emphasis>BINARY</emphasis> mode. If Windows has saved it with a
    <filename>.txt</filename> extension, simply remove the extension
    once you've uploaded it and call the file
    <filename>jhead</filename> (with no file
    extension). <function>CHMOD</function> this file to 755. You will
    have to fill in the path to the Jhead file when you run the
    configuration wizard.
   </para>
   <para>
    You can download the correct build for your webspace and find out
    more information here: <ulink
    url="http://www.sentex.net/~mwandel/jhead/">http://www.sentex.net/~mwandel/jhead/</ulink>
   </para>
  </listitem>
  <listitem>
   <para>
    RUN THE CONFIGURATION WIZARD by typing
    <blockquote>
     <para>
      http://www.yoursite.com/gallery/setup/index.php
     </para>
    </blockquote>
    in your browser window. You will see a page that starts with this:
    <blockquote>
     <para>
      Gallery Setup: Step 1
     </para>
     <para>
      This is the Gallery system check page. This page will validate
     your installation to make sure that you have all the necessary
      components and permissions on this system and that everything is
      configured reasonably.
     </para>
     <para>
      Having problems? Try the Gallery Diagnostics Page and the Gallery
      Help Page.
     </para>
    </blockquote>
    <mediaobject>
     <imageobject>
      <imagedata fileref="images/diagnostics.gif" format="GIF" />
     </imageobject>  
     <caption>  
      <para>  
       Screenshot of the Gallery Diagnostics Page
      </para>
     </caption>
    </mediaobject>
   </para>
   <para>
    Use the Diagnostics Page to help find out more about the PHP
    installation on your webserver, if you have NetPBM or ImageMagick
    located and configured correctly and to check your PHP session
    configuration.
   </para>
   <para>
    The other link takes you to the <ulink
    url="http://gallery.menalto.com/modules.php&#63;op=modload&amp;name=phpWiki&amp;file=index&amp;pagename=Help">Gallery
    Help Page</ulink> at <ulink
    url="http://gallery.menalto.com/">gallery.menalto.com</ulink>&#8212;where
    you can find more detailed answers for any problems you might
    incur during installation.
   </para>
   <para>
    This first part will run through a series of automatic checks to
    see if you have a current version of PHP running, whether or not
    <function>Safe Mode</function> is off (you want it OFF), whether
    it can read your <filename>.htaccess</filename> file, if magic
    quotes are on or off, if <function>mod_rewrite</function> is
    installed, whether it can find NetPBM or ImageMagick binaries and
    to see if you have Jhead installed. There is also some information
    there about NetPBM and ImageMagick and links to more
    information.
   </para>
   <para>
    For all of the above you will either see a green text message that
    says: "SUCCESS", with a short list of what was found, or a yellow
    "WARNING!" message with a brief description of the problem.
   </para>
   <para>
    If the errors are minor (unable to locate paths automatically),
    you will see this message: "Your installation has warnings, but
    life is short so let's GO!" and a button to click to continue with
    the configuration of Gallery.
   </para>
   <para>
    Now you're on to the fun stuff! Step Two of the Gallery setup is
    where you enter the name you'd like to have appear for your
    Gallery, your admin password and the paths Gallery needs to know
    for where your albums will be stored, etc.
    <mediaobject>
     <imageobject>
      <imagedata fileref="images/step2setup.gif" format="GIF" />
     </imageobject>  
     <caption>  
      <para>  
       Screenshot of Configuration Wizard, Step 2
      </para>
     </caption>
    </mediaobject>
   </para>
   <para>
    <emphasis>REMEMBER THE PASSWORD YOU ENTER. YOU WILL NEED IT LATER
    TO ADMINISTRATE YOUR GALLERY ONLINE.</emphasis> The default
    username is "admin" (without quotes).
   </para>
  </listitem>
  <listitem>
   <para>
    Once you've successfully run the Configuration wizard, Gallery
    will ask you to secure certain files before you can enter the
    Gallery. These are the same 3 files you applied permissions to
    above. This time you apply the permissions as follows:
    <programlisting>
     chmod 644 .htaccess
     chmod 644 config.php
     chmod 0 setup
    </programlisting>
    If you're having trouble applying permissions of 0 to the
    <filename>setup</filename> directory, you can use 700 permissions
    instead.
   </para>
  </listitem>
 </orderedlist>
</sect1>