DESCRIPTION
-----------
There are two directories:

upstream:
  This is a pure svn export of what's in the Kohana svn tree
  http://source.kohanaphp.com/trunk

modified:
  This is a version that's been programmatically altered to be
  what need in gallery3/trunk/kohana


UPDATING
--------
$ sh refresh_upstream.sh
  # Check the upstream directory and resolve any added/deleted files
  # and then commit.  MAKE SURE that you mention the upstream rev that
  # we're synced to in your commit message!

$ sh refresh_modified.sh
  # Examine what's in modified and make sure that we only add files
  # here that we want to go into Gallery3.  Anything that we don't
  # want should get added to the filters in refresh_modified.sh and
  # after updating filters you should do:
  #  $ rm -rf modified && svn up modified && sh refresh_modified.sh
  # when you're satisfied, svn commit modified

$ cd gallery3
$ svn merge -cREV vendor/kohana/modified/kohana trunk/kohana
$ svn merge -cREV vendor/kohana/modified/modules/unit_test trunk/modules/unit_test


VERIFYING PATCHES
-----------------

We have some patches in our version of the Kohana code.  After every
update, you should verify that every one of our deviations is tracked
by a Kohana ticket.

To see the differences you can run a diff commands
$ svn diff https://gallery.svn.sourceforge.net/svnroot/gallery/gallery3/vendor/kohana/modified/kohana https://gallery.svn.sourceforge.net/svnroot/gallery/gallery3/trunk/kohana

Expected differences:
http://dev.kohanaphp.com/ticket/1011  Image::composite() with full driver support
http://dev.kohanaphp.com/ticket/1062  Flush table/field/column caches with clear_cache()
http://dev.kohanaphp.com/ticket/1070  Add parenthesis support to Database in 2.x
http://dev.kohanaphp.com/ticket/1156  Table prefix gets append to column name
http://dev.kohanaphp.com/ticket/1170  Can't use method=put with form::open

$ svn diff https://gallery.svn.sourceforge.net/svnroot/gallery/gallery3/vendor/kohana/modified/modules/unit_test https://gallery.svn.sourceforge.net/svnroot/gallery/gallery3/trunk/modules/unit_test

Expected differences:
http://dev.kohanaphp.com/ticket/960   unit_test module should always call teardown, even if the test fails
http://dev.kohanaphp.com/ticket/961   Add class::method filtering to unit_test
